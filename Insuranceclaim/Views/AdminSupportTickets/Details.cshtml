
@model Insuranceclaim.Models.SupportTicket
 
@{

    Layout = "~/Views/Shared/_AdminLayout.cshtml";

    ViewData["Title"] = "Ticket Details";

}
 
<div class="container mt-4">
<h2>Ticket #@Model.TicketId</h2>
<a asp-action="Index" class="btn btn-secondary mb-3">Back to List</a>
 
    <div class="card my-3">
<div class="card-body">
<h5 class="card-title">Ticket Information</h5>
<p><strong>Customer:</strong> @Model.User?.Username</p>
<p><strong>Status:</strong> @Model.TicketStatus</p>
<p><strong>Created:</strong> @Model.CreatedDate?.ToShortDateString()</p>
<p><strong>Description:</strong> @Model.IssueDescription</p>
</div>
</div>
 
    <div class="card my-3">
<div class="card-body">
<h5 class="card-title">Admin Response</h5>

            @if (!string.IsNullOrEmpty(Model.Response))

            {
<p>@Model.Response</p>

            }

            else

            {
<p>No response yet.</p>

            }
</div>
</div>
 
    <div class="card my-3">
<div class="card-body">
<h5 class="card-title">Admin Actions</h5>
 
            <form asp-action="Respond" method="post">
<input type="hidden" name="ticketId" value="@Model.TicketId" />
<div class="form-group mb-2">
<label for="responseMessage">Add/Update Response</label>
<textarea name="responseMessage" class="form-control" rows="3" required>@Model.Response</textarea>
</div>
<button type="submit" class="btn btn-info">Submit Response</button>
</form>
 
            <hr />
 
            <form asp-action="UpdateStatus" method="post">
<input type="hidden" name="id" value="@Model.TicketId" />

<button type="submit" class="btn btn-primary">Update Status</button>
</form>
</div>
</div>
</div>
 